<!doctype html>
<html>
<head>
  <meta http-equiv="Cache-Control" content="public" />
  <meta http-equiv="Expires" content="Mon, 16 Nov 2020 00:00:01 GMT" />
  <meta http-equiv="imagetoolbar" content="no" />
  <meta http-equiv="imagetoolbar" content="false" />
  <meta name="ROBOTS" content="NOINDEX" />
  <meta name="ROBOTS" content="NOFOLLOW" />
  <meta name="ROBOTS" content="NOARCHIVE" />
  <meta name="ROBOTS" content="NOSNIPPET" />
  <meta name="ROBOTS" content="NOODP " />
  <base target="_top" />
  <title></title>
  <script type="text/javascript">
    window.onerror = function() { return true; };
  </script>
  <style type="text/css">
    html, body {
      font-family: Arial, sans-serif;
      height: 100%;
    }
    #sf_body { margin:0px;padding:0px;background-color:transparent; }
    .sf {
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .follow {
      align-items: flex-start;
      justify-content: flex-start;
    }
    .followleft {
      align-items: flex-end;
      justify-content: flex-end;
    }
    .takeover,
    .wrapper {
      height: 100%;
    }
    .takeover * {
      height: 100%;
    }
  </style>
</head>
<body id="sf_body">
    <!-- <div style="color: #999;display: none;font-size: 10px;line-height: 15px;margin: 0;text-align: left;" id="adLabel">Safeframe annonce:</div> -->
    <div id="adtechWallpaper" class="hidden adtechWallpaper frontpagewallpaper"></div>

      <div class="wrapper" id="sfWrapper" style="position: relative;">
    		<div id="sf_align" class="sf">
    			<script src="ext.min.js" class="sf"></script>
    		</div>
      </div>
    <script>
      var position = $sf.ext.meta('banner_position')
      var sf_align = document.getElementById('sf_align')
      sf_align.classList.add(position)
      console.log('inside inside safeframe', 'position:', position)
      window.addEventListener('load', function() {
        try {
          var gotADTECHBanner = (sf_align.querySelector('.adslot') !== null)
          var endedUpEmpty = (sf_align.querySelector('img[alt="AdTech Ad"]') !== null)
          console.log('inside safeframe @load ', 'position:', position)
          if (gotADTECHBanner && !endedUpEmpty) {
            console.log('inside safeframe', 'we got a banner', position)
            if (position === 'monster' || position === 'wallpaper') {
              var stylingAttrCustom = document.getElementById('adtechWallpaper').getAttribute('style')
              var stylingAttrBody = document.body.getAttribute('style')
              if (stylingAttrCustom !== null && stylingAttrCustom.match(/url\((.*?)\)/)) {
                $sf.ext.message('styling:' + stylingAttrCustom)
              } else if (stylingAttrBody !== null && stylingAttrBody.match(/url\((.*?)\)/)) {
                $sf.ext.message('styling:' + stylingAttrBody)
              }
              console.log('inside safeframe', 'dis got wallpaper', position, stylingAttrCustom, stylingAttrBody)
            }
            var loadedMessage = 'safeframeloaded'
            if (sf_align.querySelector('.prebidPlaceholder') !== null) {
              loadedMessage += '|prebid'
            } else if (sf_align.querySelector('.prebidPlaceholder_xhb') !== null) {
              loadedMessage += '|prebid_xhb'
            }

            $sf.ext.message(loadedMessage)

            // console.log('inside safeframe', '$sf.ext.meta("content_id")', $sf.ext.meta("content_id"), position)
            // console.log('inside safeframe', '$sf.ext.meta("content_id")', $sf.ext.meta("banner_label"), position)
            // console.log('inside safeframe', '$sf.ext.meta("content_id")', $sf.ext.meta("elementPos"), position)
          } else {
            console.log('inside safeframe', position, ' will be nuked')
            $sf.ext.message('nuke')
          }
        } catch (err) {
          console.error('inside safeframe', 'error', err);
        }
      })
    </script>
</body>
</html>
